import DecayBasic from "@site/src/examples/DecayBasic";
import DecayTrain from "@site/src/examples/DecayTrain";

# withDecay()

`withDecay` lets you create animations that mimic objects in motion. The animation will start with the provided velocity and slow down over time according to the given deceleration rate until it reaches a stop.

<InteractiveExample name="DecayBasic" component={<DecayBasic />} />

## Reference

```javascript
import { withDecay } from "react-native-reanimated";

function App() {
  sv.value = withDecay({ velocity: 1 });
  // ...
```

<details>
<summary><b>Type definitions</b></summary>

```typescript
type AnimatableValue = number | string | number[];

interface WithDecayConfig {
  deceleration?: number;
  velocity?: number;
  clamp?: [number, number];
  velocityFactor?: number;
  rubberBandEffect?: boolean;
  rubberBandFactor?: number;
}

function withDecay(
  userConfig: WithDecayConfig,
  callback?: (finished?: boolean, current?: AnimatableValue) => void
): number;
```

</details>

### Arguments

#### `config`

The decay animation configuration.

Available properties:

| Name                              | Type               | Default | Description                                                                                                                                                 |
| --------------------------------- | ------------------ | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **velocity** <Optional />         | `number`           | 0       | Initial velocity of the animation.                                                                                                                          |
| **deceleration** <Optional />     | `number`           | 0.998   | The rate at which the velocity decreases over time.                                                                                                         |
| **clamp** <Optional />            | `[number, number]` | []      | Array of two numbers which restricts animation's range. Animation stops when either bound is reached unless the `rubberBandEffect` option is set to `true`. |
| **velocityFactor** <Optional />   | `number`           | 1       | Velocity multiplier.                                                                                                                                        |
| **rubberBandEffect** <Optional /> | `boolean`          | false   | Makes the animation bounce over the limit specified in `clamp`.                                                                                             |
| **rubberBandFactor** <Optional /> | `number`           | 0.6     | Strength of the rubber band effect.                                                                                                                         |

#### `callback` <Optional />

A function called on animation complete. In case the animation is cancelled, the callback will receive `false` as the argument, otherwise it will receive `true`.

### Returns

An [animation object](/docs/fundamentals/glossary#animation-object). It can be either assigned directly to a [shared value](/docs/fundamentals/glossary#shared-value) or can be used as a value for a style object returned from [useAnimatedStyle](/).

## Example

<InteractiveExample name="DecayTrain" component={<DecayTrain />} />

## Platform compatibility

<div class="compatibility">

| Android | iOS | Web |
| ------- | --- | --- |
| ✅      | ✅  | ✅  |

</div>
