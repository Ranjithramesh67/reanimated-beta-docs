import ModifierPlayground, {
  useSpringPlayground,
} from "@site/src/components/ModifierPlayground";
import InteractiveExample from "@site/src/components/InteractiveExample";
import SpringBasic from "@site/src/examples/SpringBasic";
import SpringCarousel from "@site/src/examples/SpringCarousel";

# withSpring()

`withSpring` lets you define a spring-based animation.

<InteractiveExample name="SpringBasic" component={<SpringBasic />} />

## Reference

```javascript
import { withSpring } from "react-native-reanimated";

function App() {
  withSpring(sv.value);
  // ...
```

<details>
<summary><b>Type definitions</b></summary>

```typescript
type AnimatableValue = number | string | number[];

interface WithSpringConfig {
  damping?: number;
  mass?: number;
  stiffness?: number;
  overshootClamping?: boolean;
  restSpeedThreshold?: number;
  restDisplacementThreshold?: number;
  velocity?: number;
}

function withSpring<T extends AnimatableValue>(
  toValue: T,
  config?: WithSpringConfig,
  callback?: (finished?: boolean, current?: AnimatableValue) => void
): T;
```

</details>

### Arguments

#### `toValue`

The value on which the animation will come at rest.

#### `config`

The spring animation configuration.

<ModifierPlayground usePlayground={useSpringPlayground} />

Available properties:

| Name                                             | Type      | Default | Description                                                                                               |
| ------------------------------------------------ | --------- | ------- | --------------------------------------------------------------------------------------------------------- |
| **damping** <br/> _(optional)_                   | `number`  | 10      | How quickly a spring stops moving. Higher damping means the spring will come to rest faster.              |
| **mass** <br/> _(optional)_                      | `number`  | 1       | The weight of the spring. Reducing this value makes the animation faster.                                 |
| **stiffness** <br/>_(optional)_                  | `number`  | 100     | How bouncy the spring is.                                                                                 |
| **velocity** <br/>_(optional)_                   | `number`  | 0       | Initial velocity applied to the spring equation.                                                          |
| **overshootClamping** <br/> _(optional)_         | `boolean` | false   | Whether a spring can bounce over the `toValue`.                                                           |
| **restDisplacementThreshold** <br/> _(optional)_ | `number`  | 0.01    | The displacement below which the spring will snap to `toValue` without further oscillations.              |
| **restSpeedThreshold** <br/> _(optional)_        | `number`  | 2       | The speed in pixels per second from which the spring will snap to `toValue` without further oscillations. |

#### `callback`

A function called on animation complete. In case the animation is cancelled, the callback will receive false as the argument, otherwise it will receive true.

### Returns

An [animation object](/docs/fundamentals/glossary#animation-object). It can be either assigned directly to a [shared value](/docs/fundamentals/glossary#shared-value) or can be used as a value for a style object returned from [useAnimatedStyle](/).

## Example

<InteractiveExample name="SpringCarousel" component={<SpringCarousel />} />

## Platform compatibility

<div class="compatibility">

| Android | iOS | Web |
| ------- | --- | --- |
| ✅      | ✅  | ✅  |

</div>
